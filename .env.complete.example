# ==========================================
# TRAF3LI BACKEND - COMPLETE ENVIRONMENT VARIABLES
# ==========================================
# Generated from comprehensive codebase scan
# Last updated: 2024-12-23
#
# Legend:
#   游댮 REQUIRED - Application will fail without these
#   游리 RECOMMENDED - Warnings if missing, features may not work
#   游릭 OPTIONAL - Has sensible defaults
# ==========================================

# ==========================================
# 游댮 CRITICAL SECURITY (REQUIRED)
# ==========================================

# JWT Secrets - MUST be 32+ characters, cryptographically random
# Generate: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-64-char-hex-secret-here
JWT_REFRESH_SECRET=your-different-64-char-hex-secret-here

# Encryption Key - MUST be exactly 64 hex characters (32 bytes)
# Generate: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=your-64-char-hex-encryption-key-here
ENCRYPTION_ALGORITHM=aes-256-gcm

# Database - MongoDB connection string
MONGODB_URI=mongodb+srv://user:password@cluster.mongodb.net/traf3li?retryWrites=true&w=majority

# ==========================================
# 游리 SERVER CONFIGURATION (RECOMMENDED)
# ==========================================

PORT=5000
NODE_ENV=production
LOG_LEVEL=info

# URLs
API_URL=https://api.traf3li.com
BACKEND_URL=https://api.traf3li.com
CLIENT_URL=https://traf3li.com
DASHBOARD_URL=https://dashboard.traf3li.com
FRONTEND_URL=https://dashboard.traf3li.com

# ==========================================
# 游리 REDIS CONFIGURATION (RECOMMENDED)
# ==========================================

REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
DISABLE_QUEUES=false

# Upstash Redis (if using Upstash)
# UPSTASH_REDIS_REST_URL=
# UPSTASH_REDIS_REST_TOKEN=

# ==========================================
# 游리 ERROR TRACKING - SENTRY (RECOMMENDED)
# ==========================================

SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1

# ==========================================
# 游리 EMAIL SERVICE - RESEND (RECOMMENDED)
# ==========================================

RESEND_API_KEY=re_xxxxxxxxxxxx
FROM_EMAIL=noreply@traf3li.com
FROM_NAME=Traf3li
EMAIL_FROM_NAME=Traf3li
CONTACT_EMAIL=support@traf3li.com

# ==========================================
# 游리 PAYMENT - STRIPE (RECOMMENDED)
# ==========================================

STRIPE_SECRET_KEY=sk_live_xxxxxxxxxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxx

# ==========================================
# 游리 CLOUD STORAGE - AWS S3 (RECOMMENDED)
# ==========================================

AWS_ACCESS_KEY_ID=AKIAXXXXXXXXXXXXXXXX
AWS_SECRET_ACCESS_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
AWS_REGION=me-south-1

# S3 Buckets
AWS_S3_BUCKET=traf3li-legal-documents
AWS_S3_BUCKET_DOCUMENTS=traf3li-legal-documents
AWS_S3_JUDGMENTS_BUCKET=traf3li-case-judgments
S3_BUCKET_TASKS=traf3li-task-attachments

# S3 Logging Buckets (optional)
AWS_S3_BUCKET_DOCUMENTS_LOGS=traf3li-documents-logs
AWS_S3_BUCKET_TASKS_LOGS=traf3li-tasks-logs

# S3 Encryption
S3_SSE_ENABLED=true
S3_SSE_ALGORITHM=AES256
PRESIGNED_URL_EXPIRY=3600

# ==========================================
# 游리 CLOUD STORAGE - CLOUDFLARE R2 (ALTERNATIVE)
# ==========================================

R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=
R2_ENDPOINT=https://xxxx.r2.cloudflarestorage.com
R2_ACCOUNT_ID=

# R2 Buckets
R2_BUCKET_DOCUMENTS=traf3li-documents
R2_BUCKET_JUDGMENTS=traf3li-judgments
R2_BUCKET_CRM=traf3li-crm
R2_BUCKET_FINANCE=traf3li-finance
R2_BUCKET_HR=traf3li-hr

# R2 Logging Buckets (optional)
R2_BUCKET_DOCUMENTS_LOGS=
R2_BUCKET_JUDGMENTS_LOGS=
R2_BUCKET_CRM_LOGS=
R2_BUCKET_FINANCE_LOGS=
R2_BUCKET_HR_LOGS=

# ==========================================
# 游리 PUSH NOTIFICATIONS - VAPID (RECOMMENDED)
# ==========================================

# Generate: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
VAPID_SUBJECT=mailto:support@traf3li.com

# ==========================================
# 游릭 OTP CONFIGURATION (OPTIONAL)
# ==========================================

OTP_LENGTH=6
OTP_EXPIRY_MINUTES=5
OTP_SECRET_SALT=your-random-salt-here

# ==========================================
# 游릭 SECURITY FEATURES (OPTIONAL)
# ==========================================

# Admin IP Whitelist (comma-separated CIDR notation)
ADMIN_IP_WHITELIST=

# Malware Scanning
ENABLE_MALWARE_SCAN=false
CLAMAV_HOST=localhost
CLAMAV_PORT=3310

# WebAuthn / Passkeys
WEBAUTHN_RP_NAME=Traf3li
WEBAUTHN_RP_ID=traf3li.com
WEBAUTHN_ORIGIN=https://dashboard.traf3li.com

# Feature Flags
TEST_MODE=false
REQUIRE_IDEMPOTENCY_KEYS=true
DEVICE_FINGERPRINT_STRICT=false

# ==========================================
# 游릭 SAUDI GOVERNMENT INTEGRATIONS (OPTIONAL)
# ==========================================

# Wathq - Commercial Registration Verification
WATHQ_BASE_URL=https://api.wathq.sa
WATHQ_CONSUMER_KEY=
WATHQ_CONSUMER_SECRET=

# ZATCA - E-Invoicing
ZATCA_API_KEY=
ZATCA_API_URL=https://gw-fatoora.zatca.gov.sa/e-invoicing/developer-portal

# Ministry of Justice
MOJ_API_KEY=
MOJ_API_URL=https://api.moj.gov.sa

# Yakeen - Identity Verification
YAKEEN_USERNAME=
YAKEEN_PASSWORD=
YAKEEN_LICENSE_NUMBER=

# ==========================================
# 游릭 SAUDI BANKING INTEGRATIONS (OPTIONAL)
# ==========================================

# Lean Technologies - Open Banking
LEAN_APP_TOKEN=
LEAN_CLIENT_ID=
LEAN_CLIENT_SECRET=
LEAN_SANDBOX=false

# SADAD - Bill Payments
SADAD_MERCHANT_ID=
SADAD_MERCHANT_KEY=
SADAD_BASE_URL=https://api.sadad.com

# ==========================================
# 游릭 CURRENCY & EXCHANGE RATES (OPTIONAL)
# ==========================================

DEFAULT_CURRENCY=SAR
EXCHANGE_RATE_API_KEY=
OPEN_EXCHANGE_RATES_KEY=

# ==========================================
# 游릭 CAPTCHA SERVICES (OPTIONAL - Pick One)
# ==========================================

# Google reCAPTCHA
RECAPTCHA_SECRET_KEY=
RECAPTCHA_MIN_SCORE=0.5

# hCaptcha
HCAPTCHA_SECRET_KEY=

# Cloudflare Turnstile
TURNSTILE_SECRET_KEY=

# ==========================================
# 游릭 SMS PROVIDERS (OPTIONAL - Pick One)
# ==========================================

# Twilio
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=
TWILIO_WHATSAPP=

# MSG91
MSG91_AUTH_KEY=
MSG91_WHATSAPP_KEY=

# ==========================================
# 游릭 WHATSAPP BUSINESS (OPTIONAL)
# ==========================================

WHATSAPP_API_TOKEN=
WHATSAPP_PHONE_NUMBER_ID=
WHATSAPP_BUSINESS_ACCOUNT_ID=
WHATSAPP_VERIFY_TOKEN=

# ==========================================
# 游릭 AI SERVICES (OPTIONAL)
# ==========================================

# Note: AI keys are typically stored per-firm in DB
# These are fallback/default keys
ANTHROPIC_API_KEY=
OPENAI_API_KEY=
AI_KEYS_ENCRYPTION_SECRET=your-32-char-encryption-key-here

# ==========================================
# 游릭 BACKUP CONFIGURATION (OPTIONAL)
# ==========================================

BACKUP_S3_BUCKET=traf3li-backups
BACKUP_RETENTION_DAYS=7
BACKUP_RETENTION_WEEKS=4
BACKUP_RETENTION_MONTHS=12
BACKUP_RETENTION_YEARS=3
BACKUP_SCHEDULE_DAILY=0 2 * * *
BACKUP_SCHEDULE_WEEKLY=0 3 * * 0
BACKUP_SCHEDULE_MONTHLY=0 4 1 * *
BACKUP_NOTIFICATION_ENABLED=true
BACKUP_NOTIFICATION_EMAIL=admin@traf3li.com

# ==========================================
# 游릭 PERFORMANCE & DEBUGGING (OPTIONAL)
# ==========================================

SLOW_QUERY_THRESHOLD_MS=100
ENABLE_SLOW_QUERY_LOG=false
CRON_STARTUP_DELAY_MS=3000
API_RESPONSE_TIME_TARGET=300

# ==========================================
# 游릭 MISCELLANEOUS (OPTIONAL)
# ==========================================

APP_NAME=Traf3li
DEFAULT_COUNTRY=SA
