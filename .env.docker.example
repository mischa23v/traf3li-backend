# ==========================================
# DOCKER DEVELOPMENT ENVIRONMENT
# ==========================================
# This file contains Docker-specific environment variables for local development.
# Copy this file to .env when using Docker Compose for development.
#
# QUICK START:
#   1. Copy this file: cp .env.docker.example .env
#   2. Start services: npm run docker:up
#   3. View logs: npm run docker:logs
#   4. Access MailHog: http://localhost:8025
#   5. Stop services: npm run docker:down
#
# ==========================================

# ==========================================
# APPLICATION CONFIGURATION
# ==========================================
NODE_ENV=development
PORT=3000

# ==========================================
# SECURITY SECRETS (DEVELOPMENT ONLY)
# ==========================================
# ⚠️  WARNING: These are development-only secrets!
# NEVER use these values in production!
# Generate new secrets for production using:
#   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"

JWT_SECRET=dev_jwt_secret_change_in_production_12345678
JWT_REFRESH_SECRET=dev_refresh_secret_change_in_production_12345678
ENCRYPTION_KEY=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef
ENCRYPTION_ALGORITHM=aes-256-gcm

# ==========================================
# DATABASE CONFIGURATION (DOCKER SERVICES)
# ==========================================
# MongoDB connection - uses Docker service name "mongo"
MONGODB_URI=mongodb://mongo:27017/traf3li

# Optional: MongoDB authentication (if enabled)
# MONGO_ROOT_USER=admin
# MONGO_ROOT_PASSWORD=changeme

# Redis connection - uses Docker service name "redis"
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=

# ==========================================
# EMAIL CONFIGURATION (MAILHOG)
# ==========================================
# MailHog is a local email testing tool
# SMTP Server: localhost:1025
# Web UI: http://localhost:8025

SMTP_HOST=mailhog
SMTP_PORT=1025
EMAIL_FROM=dev@traf3li.local
EMAIL_FROM_NAME=Traf3li Development
EMAIL_REPLY_TO=dev@traf3li.local

# Disable real email services in development
RESEND_API_KEY=

# ==========================================
# FRONTEND URLS (LOCAL DEVELOPMENT)
# ==========================================
CLIENT_URL=http://localhost:3000
DASHBOARD_URL=http://localhost:3000
BACKEND_URL=http://localhost:3000

# ==========================================
# LOGGING CONFIGURATION
# ==========================================
LOG_LEVEL=debug

# ==========================================
# ACCOUNTING CONFIGURATION
# ==========================================
DEFAULT_CURRENCY=SAR
ENABLE_ACCOUNTING=true
REQUIRE_IDEMPOTENCY_KEYS=true

# ==========================================
# ANALYTICS (DISABLED IN DEVELOPMENT)
# ==========================================
ENABLE_ANALYTICS=false

# ==========================================
# EXTERNAL SERVICES (DISABLED IN DEVELOPMENT)
# ==========================================
# Leave these blank in development to disable external services

# Sentry (error tracking)
SENTRY_DSN=

# AWS S3 (file storage)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=
S3_BUCKET_DOCUMENTS=
S3_BUCKET_JUDGMENTS=
S3_BUCKET_TASKS=

# Stripe (payments)
STRIPE_SECRET_KEY=

# ClamAV (malware scanning)
ENABLE_MALWARE_SCAN=false
CLAMAV_HOST=localhost
CLAMAV_PORT=3310

# Redis Optimization (disable queues in development for simplicity)
DISABLE_QUEUES=false
DISABLE_REDIS_CACHE=false

# ==========================================
# DOCKER COMPOSE VARIABLES
# ==========================================
# These control the Docker Compose services

# Container names (optional, defaults are set in docker-compose.yml)
# COMPOSE_PROJECT_NAME=traf3li

# Resource limits (optional)
# MONGO_MEMORY_LIMIT=512M
# REDIS_MEMORY_LIMIT=256M
# APP_MEMORY_LIMIT=1G

# ==========================================
# DEVELOPMENT TOOLS
# ==========================================

# Enable detailed error messages
DEBUG=*

# Disable security restrictions for local testing (not recommended)
# ADMIN_IP_WHITELIST=

# ==========================================
# HELPFUL DOCKER COMMANDS
# ==========================================
# Start all services:        npm run docker:up
# Stop all services:         npm run docker:down
# View app logs:             npm run docker:logs
# Open shell in container:   npm run docker:shell
# Access MongoDB:            npm run docker:mongo
# Access Redis:              npm run docker:redis
# View MailHog UI:           npm run docker:mailhog
# Rebuild containers:        npm run docker:build
# Remove volumes:            npm run docker:down:clean
